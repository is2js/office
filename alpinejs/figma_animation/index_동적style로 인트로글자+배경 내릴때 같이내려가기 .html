<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200..900&display=swap" rel="stylesheet">

    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<!-- 1편: https://www.youtube.com/watch?v=FVontn7GO1U&t=2180s -->
<!-- 2편: https://www.youtube.com/watch?v=WQVZ_rOsZV0 -->
<!--<body>-->
<!--  수동 딜레시켰던, anmation을 0초후 시작으로 바꾼 뒤, body에 해당 on해당섹션 변수를 둔다. -->
<!-- 1. pageOffsetY를 담을 변수를 scrollPosition을 현재값을 초기화한 뒤, @scroll.window로 매번 없데이트 해준다. -->
<!--<body x-data="{onBottomSection: false}">-->
<body x-data="{onBottomSection: false, scrollPosition: window.pageYOffset}" @scroll.window="scrollPosition = window.pageYOffset">
<header class="text-white fixed left-0 top-0 z-10 flex items-center w-full justify-between mt-14">

    <div class="container flex items-center justify-between">
        <a href="#" class="text-3xl font-bold">부부한의원</a>
        <ul class="flex items-center space-x-8 font-semibold">
            <li><a href="#">Home</a></li>
            <li><a href="#">Experience</a></li>
            <li><a href="#">Blog</a></li>
            <li><a href="#">원장단</a></li>
            <li><a href="#" class="h-14 flex items-center  rounded-full border border-current px-6">원내광고</a></li>
        </ul>
    </div>
</header>

<!--5. intro-section에 들어가던 bacground도  휠 내릴 때, 동적으로 반대방향으로 올라가도록? :style로 동적으로  -->
<!--<div class="intro-section h-screen relative flex items-center justify-center  text-white overflow-hidden">-->
<div class="intro-section h-screen relative flex items-center justify-center  text-white overflow-hidden"
     :style="`background-position: bottom -${scrollPosition / 2 }px center;`">

    <!-- 3. 이제 offset에 따라다닐 친구를, div 한번쏴서 확인 후, :style + transform translateY로 이동시켜본다. -->
<!--    <div :style="`transform: translateY(${scrollPosition}px)`">-->
    <!-- 4. 따라오는 것 시간차 효과를 내기 위해선,  transition + ease-linear를주면 된다.-->
    <div :style="`transform: translateY(${scrollPosition / 4}px)`" class="transition ease-linear">
        <div class="intro-section-text text-center opacity-0">
            <!-- 2. 타겟근처에 div.x-text로 찍어본다. 확인되면 바로 삭제할 예정. -->
            <!--<div x-text="scrollPosition"></div>-->
            <h1 class="text-5xl font-bold mb-4">디스크 질환</h1>
            <p class="text-xl">디스크 질환들을 다룹니다.</p>
        </div>
    </div>

    <div class="w-full absolute left-0 bottom-0 flex justify-center pointer-events-none">
        <img class="foreground  " src="img/foreground.png" alt="foreGround">
    </div>

    <div class="w-full absolute left-0 bottom-0 flex justify-center z-10 pb-8">
        <!-- 스크롤 넘기는 것을 위해 button을 a태그로 감싼 뒤 href=""에 맞는 아이디만 주면 된다.-->
        <a href="#bottomScreen">
            <!-- bounce는 img를 담는 button에 바로 tailwind css를 주면 된다. -->
            <button class="flex flex-col justify-center items-center font-semibold space-y-2 animate-bounce">
                <img src="img/arrow-down.svg" alt="">
                <span>Scroll down</span>
            </button>
        </a>
    </div>
</div>

<!-- 2. 해당색션에 x-intersect.half로 절반정도 들어모녀 변수에 true-->
<div x-intersect.half="onBottomSection = true"
     id='bottomScreen' class="bottom-section h-screen text-white pt-56">
    <!-- 3. 섹션부모div에서 intersect가 걸렸으면, 그 이후 최상위자식에서 x-show를 걸어준다.  -->
    <!-- **애니메이션이 x-show로 작동한다!!! -->
    <!-- 그렇다면, section-text와 내용물 container를 합한 div.x-show를 만들어서 걸어줘야한다.-->
    <div x-show="onBottomSection">

            <div class="bottom-section-text text-center opacity-0 text-white">
                <h1 class="text-5xl font-bold mb-4">해당 질환의 치료방법</h1>
                <p class="text-xl">디스크 질환들을 다룹니다.</p>
            </div>

        <div class="container">

            <div class="boxes flex items-center  justify-between mt-24">
                <div class="location-box">
                    <!-- 271 x 301 px-->
                    <img src="img/composition1.jpg" alt="Box 1">
                    <div class="text-xl font-semibold mt-5 mb-2">근재생 역동추나</div>
                    <p class="opacity-60">잘못된 생활 습관이나 외상 등으로 균형을 잃은 근조직을 역동적으로 교정하는 한창한방병원만의 추나요법</p>
                </div>
                <div class="location-box">
                    <img src="img/composition2.jpg" alt="Box 2">
                    <div class="text-xl font-semibold mt-5 mb-2">진근탕</div>
                    <p class="opacity-60">근세포 활성 천연물의
                        유효성분만을 고농축으로 담은
                        한창한방병원만의 1:1 맞춤
                        근골격 강화 기능한약</p>
                </div>
                <div class="location-box">
                    <img src="img/composition3.jpg" alt="Box 3">
                    <div class="text-xl font-semibold mt-5 mb-2">진근약침</div>
                    <p class="opacity-60">진근탕의 유효성분을 주입해
                        빠르게 통증을 해소하고
                        근육과 관절 기능을 강화하는
                        인체친화적 약침치료</p>
                </div>
                <div class="location-box">
                    <img src="img/composition4.jpg" alt="Box 4">
                    <div class="text-xl font-semibold mt-5 mb-2">근육이완 미세침</div>
                    <p class="opacity-60">머리카락보다 얇은 미세침으로
                        경직된 근조직의 경혈을 자극하고
                        기혈의 흐름을 원활하게 하여
                        근기능을 향상하는 침치료</p>
                </div>
            </div>
        </div>
    </div>

</div>
</body>
</html>