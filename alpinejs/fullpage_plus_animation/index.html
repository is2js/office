<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200..900&display=swap" rel="stylesheet">

    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

        <!--@scroll.window="scrollPosition = window.pageYOffset;"-->
                <!--scrollPosition: window.pageYOffset,-->
<body
        x-data="{
                onBottomSection: false,
                 activeSection: 1,
                sections: [
                    {
                        title: '제목',
                        subtitle: '부제목',
                    },
                    {
                        title: '해당질환의 치료방법',
                        subtitle: '예후에 따른 다양한 치료법을 적용합니다.',
                        isWhiteBackground: true,
                    },
                    {
                        title: '갤러리',
                        isWhiteBackground: true,
                    }
                ],

        }"
>
<header class="text-white fixed left-0 top-0 z-10 flex items-center w-full justify-between mt-14">
    <!-- 상단메뉴 -->
    <div class="container flex items-center justify-between">
        <a href="#" class="text-3xl font-bold">부부한의원</a>
        <ul class="flex items-center space-x-8 font-semibold">
            <li><a href="#">Home</a></li>
            <li><a href="#">Experience</a></li>
            <li><a href="#">Blog</a></li>
            <li><a href="#">원장단</a></li>
            <li><a href="#" class="h-14 flex items-center  rounded-full border border-current px-6">원내광고</a></li>
        </ul>
    </div>
</header>
<!-- 좌측 nav-->
<div class="floatNav fixed flex flex-col justify-center space-y-4 px-10">
    <ul>
        <template x-for="(section, i) in sections" :key="i">
            <li class="w-auto">
                <a :href="`#section-${i+1}`"
                   class="cursor flex items-center"
                   x-data="{ hovered: false }"
                   @mouseenter="hovered = true"
                   @mouseleave="hovered = false"
                >
                    <!-- bar -->
                    <span class="inline-block h-10 relative"
                          :class="{
                          'bg-white' : !sections[i].isWhiteBackground && activeSection == i + 1,
                          'bg-gray-400' : !sections[i].isWhiteBackground && activeSection != i + 1,

                          'bg-gray-700' : sections[i].isWhiteBackground && activeSection == i + 1,
                          'bg-gray-500' : sections[i].isWhiteBackground && activeSection != i + 1,

                          }"
                          :style="hovered? 'width: 6px; left: -1px; background-color: #1ECECB;' : 'width: 4px;'"
                    ></span>
                    <!-- title -->
                    <span class="inline-block pl-3 text-sm"
                          :class="{
                                'text-white font-bold': activeSection == 1 && activeSection == i + 1,
                                'text-gray-400': activeSection == 1 && activeSection != i + 1,

                                'text-gray-700 font-bold': activeSection != 1 && activeSection == i + 1,
                                'text-gray-500': activeSection != 1 && activeSection != i + 1,

                                'font-bold': hovered,

                                'animate-bounce': activeSection == i + 1
                                }"
                          :style="hovered ? 'color: #1ECECB;' : ''"
                          x-text="section.title"></span>
                </a>
            </li>
        </template>
    </ul>

    <!-- 마우스 스크롤 -->
    <span class="scroll-down block -ml-1 mt-10 h-8.5"
          :class="{'white' : activeSection == 1}"
    ></span>
</div>
<div class="sections" id="contents-sections">
    <!-- 2. 제목 섹션(section-1) -->
    <div id="section-1"
         x-intersect.half="activeSection = 1;"
         class="intro-section h-screen relative flex items-center justify-center  text-white overflow-hidden"
         :style="`background-position: bottom -${scrollPosition / 2 }px center;`">
        <!-- main에서 snapping과 연결되면 scrollPosition 0 -->
        <div :style="`transform: translateY(${scrollPosition / 4}px)`" class="transition ease-linear">
            <div class="intro-section-text text-center opacity-0">
                <h1 class="text-5xl font-bold mb-4" x-text="sections[0].title">제목</h1>
                <p class="text-xl" x-show="sections[0].subtitle" x-text="sections[0].subtitle">부제목</p>
            </div>
        </div>

        <div class="w-full absolute left-0 bottom-0 flex justify-center pointer-events-none">
            <img class="foreground  " src="img/foreground.png" alt="foreGround">
        </div>

        <div class="w-full absolute left-0 bottom-0 flex justify-center z-10 pb-8">
            <a href="#section-2">
                <button class="flex flex-col justify-center items-center font-semibold space-y-2 animate-bounce">
                    <img src="img/arrow-down.svg" alt="">
                    <span>Scroll down</span>
                </button>
            </a>
        </div>
    </div>

    <!-- 여기서부터 작업 세션시작  -->
    <!-- secetion 2: 치료방법 -->
    <div id="section-2"
         x-intersect.half="activeSection = 2;"
         class="bottom-section h-screen text-white pt-40"
    >
        <div x-show="activeSection == 2">
            <div class="contents-section-text text-center opacity-0 text-white">
                <h1 class="text-5xl font-bold mb-4" x-text="sections[1].title">제목</h1>
                <p class="text-xl" x-text="sections[1].subtitle">부제목</p>
            </div>
        </div>
    </div>
    <!-- secetion 3: 신랑신부 소개 -->
    <div id="section-3"
         x-intersect.half="activeSection = 3;"
         class="bottom-section h-screen text-white pt-40"
    >
        <div x-show="activeSection == 3">
            <div class="contents-section-text text-center opacity-0 text-white">
                <h1 class="text-5xl font-bold mb-4" x-text="sections[2].title">제목</h1>
                <p class="text-xl" x-text="sections[2].subtitle">부제목</p>
            </div>
        </div>
    </div>
    <!-- secetion 4: 갤러리 -->
    <div id="section-4"
         x-intersect.half="activeSection = 4;"
         class="bottom-section h-screen text-white pt-40"
    >
        <div x-show="activeSection == 4">
            <div class="contents-section-text text-center opacity-0 text-white">
                <h1 class="text-5xl font-bold mb-4" x-text="sections[3].title">제목</h1>
                <p class="text-xl" x-text="sections[3].subtitle">부제목</p>
            </div>
        </div>
    </div>
</div>



</body>
</html>